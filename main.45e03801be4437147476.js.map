{"version":3,"sources":["webpack:///./templates/imageCard.hbs","webpack:///./js/apiService.js","webpack:///./js/refs.js","webpack:///./js/notify.js","webpack:///./js/renderService.js","webpack:///./js/customBtn.js","webpack:///./js/search.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","ApiService","this","_query","_pageNumber","_objectsPerQuery","fetchForQuery","fetch","BASE_URL","query","pageNumber","objectsPerQuery","then","status","res","json","incrementPage","response","ok","Promise","reject","message","resetPage","newQuery","newPageNumber","newNumber","form","document","getElementById","gallery","querySelector","PNotify","defaults","delay","shadow","text","type","closeNotifyBtn","querySelectorAll","forEach","e","click","window","scrollTo","top","documentElement","scrollHeight","behavior","node","markup","insertAdjacentHTML","element","innerHTML","target","tagName","basicLightbox","dataset","bigImg","show","Button","selector","hidden","messOnInit","messOnStateChange","refs","getRefs","hide","button","label","enable","disabled","textContent","disable","classList","remove","add","apiService","showMoreBtn","ShowMoreBtn","fetchResults","currentPage","shownObj","totalHits","notify","totalAccessibleImg","isShowMore","renderService","hits","imageCard","catch","error","console","log","addEventListener","preventDefault","currentTarget","elements","value","match"],"mappings":"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","file":"main.45e03801be4437147476.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"card-item\\\">\\r\\n    <div class=\\\"photo-card\\\">\\r\\n        <div class=\\\"img-thumb\\\">\\r\\n            <img data-big-img=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":31},\"end\":{\"line\":5,\"column\":48}}}) : helper)))\n    + \"\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":55},\"end\":{\"line\":5,\"column\":71}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":78},\"end\":{\"line\":5,\"column\":86}}}) : helper)))\n    + \"\\\" class=\\\"card-img\\\" />\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":16},\"end\":{\"line\":11,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":16},\"end\":{\"line\":15,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":16},\"end\":{\"line\":19,\"column\":28}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":16},\"end\":{\"line\":23,\"column\":29}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":28,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const API_KEY = '19762883-8865d0dea9f1f7e21a434f769';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\n\r\n// console.log(API_KEY);\r\n\r\nexport default class ApiService {\r\n    constructor() {\r\n        this._query = '';\r\n        this._pageNumber = 1;\r\n        this._objectsPerQuery = 12;\r\n    }\r\n\r\n    fetchForQuery() {\r\n        return fetch(`${BASE_URL}?image_type=photo&orientation=horisontal&q=${this.query}&page=${this.pageNumber}&per_page=${this.objectsPerQuery}&key=${API_KEY}`)\r\n            .then(this.status)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                this.incrementPage();\r\n                return data;\r\n            });\r\n    };\r\n\r\n    status(response) {\r\n        if (response.ok) {\r\n            return response;\r\n        }\r\n        return response.json().then(res => Promise.reject(res.message));\r\n    };\r\n\r\n    get query() {\r\n        return this._query;\r\n    };\r\n\r\n    set query(newQuery) {\r\n        this._query = newQuery;\r\n    };\r\n\r\n    get pageNumber() {\r\n        return this._pageNumber;\r\n    };\r\n\r\n    set pageNumber(newPageNumber) {\r\n        this._pageNumber = newPageNumber;\r\n    };\r\n\r\n    get objectsPerQuery() {\r\n        return this._objectsPerQuery;\r\n    };\r\n\r\n    set objectsPerQuery(newNumber) {\r\n        this._objectsPerQuery = newNumber;\r\n    };\r\n\r\n    incrementPage() {\r\n        this.pageNumber += 1;\r\n    };\r\n\r\n    resetPage() {\r\n        this.pageNumber = 1;\r\n    };\r\n}","export default {\r\n    form: document.getElementById('search-form'),\r\n    gallery: document.querySelector('[data-gallery]'),\r\n    // showMoreBtn: document.getElementById('show-more'),\r\n}","import PNotify from 'pnotify/dist/es/PNotify.js';\r\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons.js';\r\n\r\nPNotify.defaults.delay = 5000;\r\nPNotify.defaults.shadow = true;\r\n\r\nexport default {\r\n\r\n    message: function(text, type) {\r\n        return PNotify.[type]({\r\n            text: text,\r\n        });\r\n\r\n    },\r\n    // types: [success, info, error, alert]\r\n    // PNotify.success(options);PNotify.info(options);PNotify.error(options);PNotify.alert(options);\r\n\r\n    close: function() {\r\n        const closeNotifyBtn = document.querySelectorAll('.ui-pnotify-closer');\r\n        if (closeNotifyBtn) {\r\n            closeNotifyBtn.forEach(e => e.click());\r\n        };\r\n    },\r\n};","import * as basicLightbox from 'basiclightbox';\r\n\r\nexport default {\r\n    scroll: function() {\r\n        return window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth'\r\n        });\r\n    },\r\n\r\n    renderHTML: function(data, template, node) {\r\n        const markup = template(data);\r\n        node.insertAdjacentHTML('beforeend', markup);\r\n    },\r\n\r\n    clearHTML: function(element) {\r\n        element.innerHTML = \"\";\r\n    },\r\n    showBigImg: function(e) {\r\n        if (e.target.tagName !== \"IMG\") {\r\n            return;\r\n        }\r\n        const instance = basicLightbox.create(`\r\n            <img src=${e.target.dataset.bigImg} width=\"100%\">\r\n        `);\r\n        instance.show();\r\n    },\r\n}","export default class Button {\r\n    constructor({ selector, hidden = false, messOnInit, messOnStateChange }) {\r\n        this.refs = this.getRefs(selector);\r\n        this.messOnInit = messOnInit;\r\n        this.messOnStateChange = messOnStateChange;\r\n\r\n        hidden && this.hide();\r\n    };\r\n\r\n    getRefs(selector) {\r\n        const refs = {};\r\n        refs.button = document.querySelector(selector);\r\n        refs.label = refs.button.querySelector('.label');\r\n        // refs.label.textContent = this.messOnInit;\r\n        // console.log(text);\r\n\r\n        return refs;\r\n    };\r\n\r\n    enable() {\r\n        this.refs.button.disabled = false;\r\n        this.refs.label.textContent = this.messOnInit;\r\n        // console.log(\"enable\");\r\n    };\r\n\r\n    disable() {\r\n        this.refs.button.disabled = true;\r\n        this.refs.label.textContent = this.messOnStateChange;\r\n        // console.log(\"disabled\");\r\n    };\r\n\r\n    show() {\r\n        this.refs.button.classList.remove('is-hidden');\r\n    };\r\n\r\n    hide() {\r\n        this.refs.button.classList.add('is-hidden');\r\n    };\r\n\r\n}","import ApiService from './apiService';\r\nimport refs from './refs';\r\nimport imageCard from '../templates/imageCard.hbs';\r\nimport notify from './notify';\r\nimport renderService from './renderService';\r\nimport ShowMoreBtn from './customBtn';\r\n\r\nconst apiService = new ApiService();\r\nconst showMoreBtn = new ShowMoreBtn({\r\n    selector: '#show-more',\r\n    hidden: true,\r\n    messOnInit: 'Show more',\r\n    messOnStateChange: 'Loading...'\r\n});\r\n// console.log(showMoreBtn);\r\n\r\nconst search = refs.form;\r\nconst gallery = refs.gallery;\r\n\r\nfunction isShowMore(totalAccessibleImg, shownObj) {\r\n    return totalAccessibleImg - shownObj > 0;\r\n};\r\n\r\nfunction searchForQuery(e) {\r\n    e.preventDefault();\r\n    renderService.clearHTML(gallery);\r\n    notify.close();\r\n    apiService.query = e.currentTarget.elements.query.value;\r\n    if (!apiService.query ||\r\n        apiService.query.match(/\\s+/) &&\r\n        !apiService.query.match(/\\s+\\w/)) {\r\n        notify.message(\"Enter something...\", 'alert');\r\n        showMoreBtn.hide();\r\n        return;\r\n    }\r\n    apiService.resetPage();\r\n    fetchResults();\r\n}\r\n\r\nfunction fetchResults() {\r\n    showMoreBtn.show();\r\n    showMoreBtn.disable();\r\n    apiService.fetchForQuery()\r\n        .then(data => {\r\n\r\n            const currentPage = apiService.pageNumber - 1;\r\n            const shownObj = currentPage * apiService.objectsPerQuery;\r\n\r\n            if (data.totalHits === 0) {\r\n                notify.message(\"No matches. Try another query.\", 'alert');\r\n                showMoreBtn.hide();\r\n                return;\r\n            }\r\n            if (currentPage === 1) {\r\n                notify.message(`Found ${data.totalHits} results`, 'success');\r\n            }\r\n            // console.log(data);\r\n            if (isShowMore(data.totalHits, shownObj)) {\r\n                showMoreBtn.show();\r\n                showMoreBtn.disable();\r\n            } else {\r\n                if (currentPage !== 1) {\r\n                    notify.message(\"There are all results!\", 'info');\r\n                }\r\n                showMoreBtn.hide();\r\n            };\r\n\r\n            renderService.renderHTML(data.hits, imageCard, gallery);\r\n            renderService.scroll();\r\n            showMoreBtn.enable();\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            notify.message(`Something went wrong... .Error ${error}`, 'error');\r\n        });\r\n}\r\n\r\nsearch.addEventListener('submit', searchForQuery);\r\nshowMoreBtn.refs.button.addEventListener('click', fetchResults);\r\ngallery.addEventListener('click', renderService.showBigImg);\r\n\r\n//query test cases: [dat, rat, freezer]"],"sourceRoot":""}